# Scenario: Plague Gauntlet
# Purpose: Infection + attrition - reanimation pressure triggers panic healing
#
# Layout: Open 24x24 arena with zombies and plaguebearers
# Mix of zombies (3) + plaguebearers (2)
# Expected 3-4 reanimations from plague + zombie deaths
# Starting items: 3 healing potions
#
# Expected death rates:
#   balanced: 20-35%
#   aggressive: 35-50%
#   cautious: 10-20%

scenario_id: plague_gauntlet
name: "Plague Gauntlet"
description: "Zombie and plaguebearer mix in open arena. Tests infection handling and heal prioritization under DoT pressure."

# Defaults for harness runs
defaults:
  turn_limit: 300
  player_bot: "tactical_fighter"
  allow_player_death: true

# Expected outcomes for validation
expected:
  min_player_kills: 125  # 5 base monsters * 50 runs * 0.5 (deaths + reanimations)
  max_player_deaths: 25  # Target ~35% max death rate
  target_death_rate: [0.20, 0.50]
  target_infections: [2, 4]
  target_reanimations: [2, 4]
  notes:
    - Evaluates infection decisions and heal prioritization
    - Tests potion usage under DoT pressure
    - Measures reanimation handling

# Dungeon depth  
depth: 2

# Room definitions - single open arena
rooms:
  - id: "plague_arena"
    type: "arena"
    width: 24
    height: 24
    description: "Open plague arena for infection and reanimation testing"
    walls: "enclosed"

# Monster placements - 3 zombies + 2 plaguebearers
monsters:
  # Zombies - will reanimate after plague deaths
  - type: "zombie"
    count: 1
    position: [14, 12]
    facing: "west"
    state: "aware"
  - type: "zombie"
    count: 1
    position: [14, 13]
    facing: "west"
    state: "aware"
  - type: "zombie"
    count: 1
    position: [14, 11]
    facing: "west"
    state: "aware"
  
  # Plaguebearers - infection sources
  - type: "plaguebearer"
    count: 1
    position: [16, 12]
    facing: "west"
    state: "aware"
  - type: "plaguebearer"
    count: 1
    position: [16, 13]
    facing: "west"
    state: "aware"

# Items - 3 healing potions at start
items:
  - type: "healing_potion"
    count: 1
    position: [10, 12]
  - type: "healing_potion"
    count: 1
    position: [11, 11]
  - type: "healing_potion"
    count: 1
    position: [12, 12]

# Player spawn - center-left of arena with baseline equipment
# Phase 17B survivability: Start with 4 potions in inventory (plague DoT + melee attrition)
player:
  position: [11, 12]
  facing: "east"
  inventory:
    - type: "healing_potion"
      count: 4
  equipment:
    weapon: "dagger"

