# Scenario: Troll Identity - Regeneration Suppression
# Purpose: Demonstrate troll regeneration and acid/fire counterplay.
# Expected: Player learns that acid (slime) stops troll regeneration.

metadata:
  scenario_id: troll_identity
  family: monster_identity
  depth: 3

scenario_id: troll_identity
name: "Troll Identity - Regeneration Suppression"
description: "Learn to counter troll regeneration using acid damage from slimes or fire attacks."

depth: 3

defaults:
  turn_limit: 100
  player_bot: "tactical_fighter"
  allow_player_death: true
  runs: 30

expected:
  min_player_kills: 45  # 30 runs * 2 enemies = 60, expecting ~75% kill rate
  max_player_deaths: 10  # Some losses expected (tough troll)

rooms:
  - id: "troll_chamber"
    type: "arena"
    width: 16
    height: 12
    description: "Chamber with troll and slime - learn to use slime's acid to suppress regeneration"
    walls: "enclosed"

monsters:
  - type: "troll"
    count: 1
    position: [10, 6]
    facing: "west"
    state: "aware"
  
  - type: "slime"
    count: 1
    position: [6, 6]
    facing: "east"
    state: "neutral"  # Not initially hostile to player

items:
  - type: "healing_potion"
    count: 3
    position: [4, 6]

player:
  position: [3, 6]
  facing: "east"
  inventory: []
  equipment:
    weapon: "longsword"
    armor: "leather_armor"

# Expected behavior:
# - Troll regenerates 2 HP/turn normally
# - Slime deals acid damage
# - When troll is hit by slime (acid), regeneration suppressed for 1 turn
# - Player should learn to let slime attack troll, then finish it off
# - Metrics track: troll_regen_attempts, troll_regen_successes, troll_regen_suppressed


# Suite tags
suites: ["identity"]
